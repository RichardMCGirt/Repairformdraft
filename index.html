<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Submit a Repair</title>

<link rel="stylesheet" href="style.css">

</head>
<body>
  <div class="wrap">
    <div class="header">
      <span class="badge">Repair</span>
      <div>
        <h1>Submit a Repair</h1>
      </div>
    </div>

    <form id="repairForm" onsubmit="event.preventDefault(); window.print();">
      <!-- Status -->
      <div class="grid row">
        <div class="col-12">
          <div class="checkline">
            <input id="workCompleted" type="checkbox" />
            <label for="workCompleted" style="margin:0;">Work is completed</label>
          </div>
        </div>
      </div>

      <!-- Basics -->
      <div class="grid row">
           <div class="col-6">
          <label class="req" for="jobName">Job name</label>
          <input id="jobName" type="text" placeholder="Job or lot name" required />
        </div>
        <div class="col-6">
          <label class="req" for="branch">Branch</label>
          <select id="branch" required>
            <option value="" selected disabled>Choose a branch…</option>
            <option>Raleigh</option><option>Charleston</option><option>Greensboro</option>
            <option>Myrtle Beach</option><option>Wilmington</option>
            <option>Charlotte</option><option>Columbia</option><option>Greenville, SC</option>
          </select>
        </div>
      

        <div class="col-6">
          <label class="req" for="customerName">Customer name</label>
          <input id="customerName" type="text" placeholder="e.g., John & Jane Doe" required />
        </div>
      </div>

      <!-- Payment flags -->
      <div class="grid row">
        <div class="col-6">
          <div class="section-title">Pre-payment</div>
          <div class="radio-row" role="radiogroup">
            <label class="pill"><input type="radio" name="prepay" value="yes" /> Yes</label>
            <label class="pill"><input type="radio" name="prepay" value="no" checked /> No</label>
          </div>

          <!-- Pre-payment amount -->
          <div id="prepayAmountWrap" class="grid hide" style="margin-top:10px;">
            <div class="col-12 money" style="position:relative;">
              <label for="prepayAmount">Pre-payment amount</label>
              <input id="prepayAmount" type="text" inputmode="decimal" placeholder="0.00" />
            </div>
          </div>

          <!-- Mock Change Orders (shown when Pre-payment = Yes) -->
          <div id="mockCOWrap" class="grid hide" style="margin-top:12px;">
            <div class="col-12">
              <div class="section-title">Mock Change Orders</div>
              <div class="hint">Suggested items for <span id="jobMirror" class="job-mirror">[Job name]</span></div>
              <div id="coList" class="co-list" style="margin-top:8px;"></div>
            </div>
          </div>
        </div>

        <div class="col-6">
          <div class="section-title">Change orders</div>
          <div class="radio-row">
            <label class="pill"><input type="radio" name="co" value="yes" /> Yes</label>
            <label class="pill"><input type="radio" name="co" value="no" checked /> No</label>
          </div>
          <div id="coDetailsWrap" class="grid hide" style="margin-top:10px;">
            <div class="col-12">
              <label for="coDetails">Change order details</label>
              <textarea id="coDetails" rows="3" placeholder="Describe change orders…"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Project -->
      <div class="grid row">
        <div class="col-6">
          <label class="req">Project type</label>
          <div class="inline">
            <label class="pill"><input type="radio" name="ptype" value="Commercial" required /> Commercial</label>
            <label class="pill"><input type="radio" name="ptype" value="Residential" /> Residential</label>
          </div>
          <div class="hint">Commercial will show subcontractor & sub payment fields.</div>
        </div>

        <!-- Commercial-only fields -->
        <div id="commercialFields" class="col-12 grid hide" style="margin-top:6px;">
          <div class="col-6 money" style="position:relative;">
            <label class="req" for="subPayAmt">Sub payment amount</label>
            <input id="subPayAmt" type="text" inputmode="decimal" placeholder="0.00" />
            <div class="hint">Amount to pay subcontractor.</div>
          </div>
          <div class="col-6">
            <label class="req" for="subcontractor">Subcontractor</label>
            <input id="subcontractor" type="text" placeholder="Company or contact" />
          </div>
        </div>

        <div class="col-6">
          <label class="req" for="fieldTech">Field Technician</label>
          <input id="fieldTech" type="text" placeholder="Tech name" required />
        </div>

       
   

        <div class="col-12">
          <label for="notes">DOW</label>
          <textarea id="notes" rows="4" placeholder="Description of work"></textarea>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button type="button" class="secondary" onclick="document.getElementById('repairForm').reset(); toggleReveals(); refreshMockCO();">Clear</button>
        <button type="submit">Print / Save</button>
      </div>
    </form>
  </div>

 <script src="script.js"></script>

</body>
</html>
